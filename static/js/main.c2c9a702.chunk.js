(this.webpackJsonpsplendid=this.webpackJsonpsplendid||[]).push([[0],{149:function(e,t,r){},150:function(e,t,r){},151:function(e,t,r){},163:function(e,t,r){},164:function(e,t,r){},165:function(e,t,r){},166:function(e,t,r){},167:function(e,t,r){},168:function(e,t,r){},169:function(e,t,r){},170:function(e,t,r){"use strict";r.r(t);var a=r(2),n=r.n(a),s=r(37),i=r.n(s),o=(r(70),r(3)),l=r(4),d=r(7),c=r(6),u=r(5),p=(r.p,r(8)),h=r(9),m=r(31),y=r(0),g=function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).state={isLogin:!1},a.toggleIsLogin=a.toggleIsLogin.bind(Object(d.a)(a)),a}return Object(l.a)(r,[{key:"toggleIsLogin",value:function(){this.setState({isLogin:!this.state.isLogin})}},{key:"renderForm",value:function(){return console.log(this.props),this.state.isLogin?Object(y.jsxs)("form",{id:"registration_form",children:[Object(y.jsx)("h1",{children:"Splendid"}),Object(y.jsx)("p",{children:"Login"}),Object(y.jsx)("input",{type:"text",placeholder:"UserName",name:"username",id:"username"}),Object(y.jsx)("input",{type:"password",placeholder:"Password",name:"password",id:"password"}),Object(y.jsx)("input",{type:"button",value:"Login",onClick:this.props.login}),Object(y.jsx)("br",{}),Object(y.jsx)("a",{href:"#",children:"Forgot Password?"}),Object(y.jsx)("br",{}),Object(y.jsx)("a",{onClick:this.toggleIsLogin,return:!0,false:!0,children:"Register"})]}):Object(y.jsxs)("form",{id:"registration_form",children:[Object(y.jsx)("h1",{children:"Splendid"}),Object(y.jsx)("p",{children:"Register"}),Object(y.jsx)("input",{type:"text",placeholder:"UserName",name:"username",id:"username"}),Object(y.jsx)("input",{type:"email",placeholder:"Email",name:"email",id:"email"}),Object(y.jsx)("input",{type:"password",placeholder:"Password",name:"password",id:"password"}),Object(y.jsx)("input",{type:"password",placeholder:"Confirm Password",name:"confirm",id:"confirm"}),Object(y.jsx)("br",{}),Object(y.jsx)("input",{type:"button",value:"Register",onClick:this.props.register}),Object(y.jsx)("br",{}),Object(y.jsx)("a",{href:"#",children:"Forgot Password?"}),Object(y.jsx)("br",{}),Object(y.jsx)("a",{onClick:this.toggleIsLogin,children:"Login"})]})}},{key:"render",value:function(){return Object(y.jsxs)("div",{className:"signinContainer",children:[this.renderForm(),Object(y.jsxs)("div",{className:"drops",children:[Object(y.jsx)("div",{className:"drop drop-1"}),Object(y.jsx)("div",{className:"drop drop-2"}),Object(y.jsx)("div",{className:"drop drop-3"}),Object(y.jsx)("div",{className:"drop drop-4"}),Object(y.jsx)("div",{className:"drop drop-5"})]})]})}}]),r}(a.Component),b=(r(149),function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"renderCharacters",value:function(){for(var e=[Object(y.jsx)("option",{disabled:!0,defaultValue:!0,value:!0,children:" --Select Your Character -- "})],t=["-","Space Boy","Space Girl","Buzz The Bee","Michael Knight","Roberto","Chunky the Penguin","Space Sister","Space Baby"],r=1;r<9;r++)e.push(Object(y.jsx)("option",{value:r,children:t[r]}));return e}},{key:"updateCharacter",value:function(e){document.getElementById("character").innerHTML="<img src=".concat("/splendid/characters/"+e.target.value+".png"," className='character' >"),console.log(e.target.value)}},{key:"renderGameID",value:function(e){var t=document.getElementById("gameId"),r=document.getElementById("start_game");"join_game"===e.target.value?(t.innerHTML="<input type='number' placeholder='game id' name='game_id' id='game_id'/>",r.value="Join!"):(t.innerHTML="",r.value="Start!")}},{key:"render",value:function(){return Object(y.jsxs)("div",{className:"signinContainer",children:[Object(y.jsxs)("form",{children:[Object(y.jsxs)("select",{onChange:this.renderGameID,id:"join_start",children:[Object(y.jsx)("option",{value:"new_game",children:"New Game"}),Object(y.jsx)("option",{value:"join_game",children:"Join Game"})]}),Object(y.jsx)("div",{id:"gameId"}),Object(y.jsx)("br",{}),Object(y.jsx)("select",{onChange:this.updateCharacter,id:"character_id",children:this.renderCharacters()}),Object(y.jsx)("div",{id:"character"}),Object(y.jsx)("input",{type:"button",value:"Start",onClick:this.props.startgame,id:"start_game"})]}),Object(y.jsxs)("div",{class:"drops",children:[Object(y.jsx)("div",{class:"drop drop-1"}),Object(y.jsx)("div",{class:"drop drop-2"}),Object(y.jsx)("div",{class:"drop drop-3"}),Object(y.jsx)("div",{class:"drop drop-4"}),Object(y.jsx)("div",{class:"drop drop-5"})]})]})}}]),r}(a.Component)),v=b,j=(r(150),function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"componentDidMount",value:function(){setInterval(this.props.getUpdate,5e3)}},{key:"renderPlayers",value:function(){for(var e=[],t=this.props.gameData.players,r=0;r<t.length;r++)e.push(Object(y.jsxs)("div",{className:"playerWaitingContainer",children:[Object(y.jsx)("h4",{children:t[r].user.username}),Object(y.jsx)("img",{src:"/splendidcharacters/"+t[r].character_id+".png"})]}));return e}},{key:"render",value:function(){return Object(y.jsx)("div",{className:"signinContainer",children:Object(y.jsxs)("form",{children:[Object(y.jsxs)("h3",{children:["Game id: ",this.props.gameData.id]}),Object(y.jsx)("h2",{children:"Players Ready: "}),Object(y.jsx)("div",{className:"bullpen",children:this.renderPlayers()}),Object(y.jsx)("input",{type:"button",value:"Launch Game",className:"launchGame",onClick:this.props.initGame}),Object(y.jsx)("br",{}),Object(y.jsx)("small",{children:"Launching Game will prevent any other players from joining"})]})})}}]),r}(a.Component)),k=j,f=(r(151),{bounce:{animation:"x 2s infinite",animationName:h.a.keyframes(p.bounce,"bounce")},empty:{animation:"x",animationName:h.a.keyframes(p.bounce,"bounce")},fadeIn:{animation:"x 4s infinite",animationName:h.a.keyframes(p.fadeIn,"fadeIn")},fadeOut:{animation:"x 4s infinite",animationName:h.a.keyframes(p.fadeOut,"fadeOut")},flip:{animation:"x 4s infinite",animationName:h.a.keyframes(p.flip,"flip")},jello:{animation:"x 4s infinite",animationName:h.a.keyframes(p.jello,"jello")},pulse:{animation:"x 4s infinite",animationName:h.a.keyframes(p.pulse,"pulse")},rubberBand:{animation:"x 4s infinite",animationName:h.a.keyframes(p.rubberBand,"rubberBand")},shake:{animation:"x 4s infinite",animationName:h.a.keyframes(p.shake,"shake")},tada:{animation:"x 4s infinite",animationName:h.a.keyframes(p.tada,"tada")},wobble:{animation:"x 4s infinite",animationName:h.a.keyframes(p.wobble,"wobble")},swing:{animation:"x 4s infinite",animationName:h.a.keyframes(p.swing,"swing")},flipInX:{animation:"x 4s infinite",animationName:h.a.keyframes(p.flipInX,"flipInX")},zoomIn:{animation:"x 4s infinite",animationName:h.a.keyframes(p.zoomIn,"zoomIn")}}),O=[f.bounce,f.empty,f.fadeIn,f.fadeOut,f.flip,f.jello,f.pulse,f.rubberBand,f.shake,f.tada,f.wobble,f.swing,f.flipInX,f.zoomIn],C=function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"renderCards",value:function(){for(var e=[],t=1;t<50;t++){var r=Math.floor(90*Math.random()+1),a=Math.floor(Math.random()*O.length);e.push(Object(y.jsx)(m.a,{children:Object(y.jsx)("img",{src:"/splendidcardImgs/"+r+".png",className:"backgroundCard",style:O[a],alt:""})}))}return e}},{key:"renderContainer",value:function(){return this.props.loggedIn?this.props.gameStatus?Object(y.jsx)(k,{gameData:this.props.gameData,initGame:this.props.initGame,getUpdate:this.props.getUpdate}):Object(y.jsx)(v,{startgame:this.props.startgame,joingame:this.props.joinGame}):Object(y.jsx)(g,{register:this.props.register,login:this.props.login})}},{key:"render",value:function(){return Object(y.jsxs)("div",{className:"waitingContainer",children:[this.renderCards(),Object(y.jsx)("div",{className:"overlay"}),this.renderContainer()]})}}]),r}(a.Component),x=C,S=(r(163),function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"renderReservedCards",value:function(){for(var e=0,t="",r=function(){},a=0;a<this.props.player.ownedCards.length;a++)"0"===this.props.player.ownedCards[a]&&e++;return this.props.player.user.id===this.props.loggedInPlayer.user.id&&(r=this.props.openReservedCardPanel,t=" player"),Object(y.jsx)("div",{className:"reservedCards "+this.props.side+t+this.props.reserveCanPlay,onClick:r,children:e})}},{key:"render",value:function(){var e="",t=this.props.player.turn;return this.props.turn%this.props.numOfPlayers===t&&(e="active"),Object(y.jsxs)("div",{className:"characterContainer "+this.props.side,children:[this.renderReservedCards(),Object(y.jsxs)("div",{className:"character "+this.props.side,children:[Object(y.jsx)("p",{className:"score "+this.props.side,children:Object(y.jsx)("span",{children:this.props.score})}),Object(y.jsx)("img",{src:"/splendid/characters/"+this.props.player.character_id+".png",className:"character "+e+" "+this.props.side,alt:""})]})]})}}]),r}(n.a.Component)),N=S,P=(r(164),function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"renderCards",value:function(e){var t=[],r=this.calculateCards(e);for(var a in r)t.push(Object(y.jsx)("div",{className:"cardHand "+a+" "+this.props.side,children:Object(y.jsx)("span",{children:r[a]})}));return t}},{key:"calculateCards",value:function(e){for(var t={gold:0,diamond:0,onyx:0,emerald:0,ruby:0,sapphire:0},r=0;r<e.length;r++)"1"===this.props.player.ownedCards[r]&&t[e[r].tokenName]++;return t}},{key:"renderTokens",value:function(e){var t=[];for(var r in e)t.push(Object(y.jsx)("div",{className:"tokenHand "+r+" "+this.props.side,children:Object(y.jsx)("span",{children:e[r]})}));return t}},{key:"render",value:function(){return Object(y.jsxs)("div",{className:"allHand "+this.props.side,children:[Object(y.jsx)("div",{className:"hand "+this.props.side,children:this.renderCards(this.props.hand)}),Object(y.jsx)("div",{className:"tokens "+this.props.side,children:this.renderTokens(this.props.tokens)})]})}}]),r}(n.a.Component)),T=P,R=(r(36),function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"findScore",value:function(e){for(var t=0,r=0;r<e.nobles.length;r++)t+=e.nobles[r].score;for(r=0;r<e.cards.length;r++)"1"===e.ownedCards[r]&&(t+=e.cards[r].score);return t}},{key:"render",value:function(){return Object(y.jsxs)("div",{className:"player "+this.props.side,children:[Object(y.jsx)(N,{player:this.props.player,side:this.props.side,turn:this.props.turn,score:this.findScore(this.props.player),numOfPlayers:this.props.numOfPlayers,openReservedCardPanel:this.props.openReservedCardPanel,closeReservedCardPanel:this.props.closeReservedCardPanel,loggedInPlayer:this.props.loggedInPlayer,reserveCanPlay:this.props.reserveCanPlay}),Object(y.jsx)(T,{player:this.props.player,tokens:this.props.player.tokenPool,hand:this.props.player.cards,side:this.props.side,numOfPlayers:this.props.numOfPlayers})]})}}]),r}(n.a.Component)),I=R,_=function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"renderPlayers",value:function(e){var t=[],r=0;for("right"===this.props.side&&(r=1);r<e.length;r+=2)t.push(Object(y.jsx)(I,{player:e[r],side:this.props.side,turn:this.props.turn,numOfPlayers:e.length,openReservedCardPanel:this.props.openReservedCardPanel,closeReservedCardPanel:this.props.closeReservedCardPanel,loggedInPlayer:this.props.loggedInPlayer,reserveCanPlay:this.props.reserveCanPlay}));return t}},{key:"render",value:function(){return Object(y.jsx)("div",{className:"playerContainer right",children:this.renderPlayers(this.props.players)})}}]),r}(n.a.Component),w=_,L=(r(165),function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"renderCards",value:function(e){for(var t=[],r=0;r<4&&r<e.length;r++)t.push(this.renderCard(e[r]));return t}},{key:"renderCard",value:function(e){for(var t=this.props.selectCard,r=" hover",a=this.props.player.tokenPool,n=["diamond","ruby","sapphire","onyx","emerald"],s=a.gold,i=0;i<5;i++){for(var o=0,l=0;l<this.props.player.cards.length;l++)this.props.player.cards[l].tokenName==n[i]&&o++;var d=e.tokenCost[n[i]]-a[n[i]]-o;d>0&&(s-=d)}return s<0&&0==this.props.currentTurn.reserveCard&&(t=function(){},r=""),Object(y.jsx)("img",{src:"/splendidcardImgs/"+e.id+".png",className:"card "+e.id+" "+e.tokenName+r,onClick:t})}},{key:"render",value:function(){return Object(y.jsxs)("div",{className:"deckContainer",children:[Object(y.jsx)("img",{src:"/splendidcardImgs/"+this.props.deckCover}),this.props.renderCards(this.props.deck.cards)]})}}]),r}(n.a.Component)),G=L,D=(r(166),function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"renderNobles",value:function(e){for(var t=[],r=0;r<e.length;r++)t.push(this.renderNoble(e[r]));return t}},{key:"renderNoble",value:function(e){return Object(y.jsx)("img",{src:"/splendid/nobleImgs/"+e.id+".png",className:"nobleImg"})}},{key:"render",value:function(){return Object(y.jsx)("div",{className:"nobleContainer",children:this.renderNobles(this.props.nobles)})}}]),r}(n.a.Component)),H=D,q=(r(167),function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"renderTokens",value:function(e){var t=[],r=this.props.selectToken;for(var a in this.props.currentTurn.reserveCard&&(r=function(){}),e)0===e[a]?t.push(Object(y.jsx)("div",{className:"tokenSet "+a,onClick:function(){},children:this.renderToken(a,e[a])})):t.push(Object(y.jsx)("div",{className:"tokenSet "+a,onClick:r,children:this.renderToken(a,e[a])}));return t}},{key:"renderToken",value:function(e,t){for(var r=[],a=t;a>0;a--)r.push(Object(y.jsx)("img",{src:"/splendid/tokenImgs/"+e+".svg",className:"tokenImg a"+a,style:{position:"absolute",top:2*a,left:2*a}}));return r}},{key:"render",value:function(){return Object(y.jsx)("div",{className:"tokenContainer",children:this.renderTokens(this.props.tokens)})}}]),r}(n.a.Component)),E=q,M=function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){for(var e=this.props.game.decks,t=0;t<e.length;t++){if("blue"===e[t].color)var r=e[t];if("green"===e[t].color)var a=e[t];if("yellow"===e[t].color)var n=e[t]}return Object(y.jsxs)("div",{className:"boardContainer",children:[Object(y.jsx)(H,{nobles:this.props.game.nobles}),Object(y.jsx)(G,{deck:r,deckCover:"bluedeck.svg",selectCard:this.props.selectCard,player:this.props.loggedInPlayer,currentTurn:this.props.currentTurn,renderCards:this.props.renderCards}),Object(y.jsx)(G,{deck:n,deckCover:"yellowdeck.svg",selectCard:this.props.selectCard,player:this.props.loggedInPlayer,currentTurn:this.props.currentTurn,renderCards:this.props.renderCards}),Object(y.jsx)(G,{deck:a,deckCover:"greendeck.svg",selectCard:this.props.selectCard,player:this.props.loggedInPlayer,currentTurn:this.props.currentTurn,renderCards:this.props.renderCards}),Object(y.jsx)(E,{tokens:this.props.game.tokenPool,tokensSelected:this.props.currentTurn.tokensSelected,selectToken:this.props.selectToken,currentTurn:this.props.currentTurn})]})}}]),r}(n.a.Component),J=M,X=(r(168),function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).renderCards=a.renderCards.bind(Object(d.a)(a)),a.reserveCanPlay=a.reserveCanPlay.bind(Object(d.a)(a)),a}return Object(l.a)(r,[{key:"renderCards",value:function(e){for(var t=[],r=0;r<4&&r<e.length;r++)t.push(this.renderCard(e[r]));return t}},{key:"renderCard",value:function(e){for(var t=this.props.selectCard,r=" hover",a=this.props.loggedInPlayer.tokenPool,n=["diamond","ruby","sapphire","onyx","emerald"],s=a.gold,i=0;i<5;i++){for(var o=0,l=0;l<this.props.loggedInPlayer.cards.length;l++)this.props.loggedInPlayer.cards[l].tokenName==n[i]&&"1"===this.props.loggedInPlayer.ownedCards[l]&&o++;var d=e.tokenCost[n[i]]-a[n[i]]-o;d>0&&(s-=d)}return s<0&&0==this.props.currentTurn.reserveCard&&(t=function(){},r=""),Object(y.jsx)("img",{src:"/splendidcardImgs/"+e.id+".png",className:"card "+e.id+" "+e.tokenName+r,onClick:t})}},{key:"renderCanPlay",value:function(){if(this.props.currentTurn.canPlay)return Object(y.jsxs)("div",{className:"playTurn",children:[Object(y.jsx)("div",{className:"playingObjects",children:this.takeObjects()}),Object(y.jsx)("button",{className:"playButton",onClick:this.props.playTurn,value:"play",children:"Play!"}),Object(y.jsx)("button",{className:"cancelButton",onClick:this.props.cancelPlay,value:"cancel",children:"Cancel."})]})}},{key:"takeObjects",value:function(){if(this.props.currentTurn.cardSelected.id)return Object(y.jsx)("img",{src:"/splendidcardImgs/"+this.props.currentTurn.cardSelected.id+".png",className:"card"});for(var e={6:"gold",5:"emerald",4:"diamond",3:"ruby",2:"sapphire",1:"onyx"},t=[],r=0;r<this.props.currentTurn.tokensSelected.length;r++)t.push(Object(y.jsx)("img",{src:"/splendid/tokenImgs/"+e[this.props.currentTurn.tokensSelected[r]]+".svg",className:"tokenImg a"+r}));return t}},{key:"renderCanNoble",value:function(){if(console.log(this.props),this.props.availableNobles.length>0)return Object(y.jsx)("div",{className:"championOverlay",children:Object(y.jsxs)("div",{className:"playTurn buyNoble",children:[Object(y.jsxs)("h3",{children:["Nobles Available for ",this.props.loggedInPlayer.user.username]}),Object(y.jsx)("div",{className:"nobleContainer",children:this.renderNobles()})]})})}},{key:"renderNobles",value:function(){for(var e=[],t=0;t<this.props.availableNobles.length;t++)e.push(Object(y.jsx)("img",{src:"/splendid/nobleImgs/"+this.props.availableNobles[t].id+".png",className:"nobleImg "+this.props.availableNobles[t].id,alt:"",onClick:this.props.getNoble}));return e}},{key:"endgame",value:function(){if(this.props.game.champion.length>0)return Object(y.jsx)("div",{className:"championOverlay",children:Object(y.jsxs)("h1",{children:["This game was won by ",Object(y.jsx)("strong",{children:this.props.game.champion.user.username})]})})}},{key:"holdTurn",value:function(){var e=this;console.log("Players",this.props.game.players);var t=this.props.game.players.filter((function(t){return t.user.id===e.props.loggedInPlayer.user.id}))[0].turn;return this.props.game.turn%this.props.game.players.length===t?void 0:Object(y.jsx)("div",{className:"championOverlay",children:Object(y.jsx)("h1",{children:"Please Get Ready for you're next turn"})})}},{key:"reservedCardList",value:function(){for(var e=this.props.loggedInPlayer,t=[],r=[],a=0;a<e.cards.length;a++)"0"===e.ownedCards[a]&&t.push(e.cards[a]);for(a=0;a<t.length;a++)r.push(this.renderCard(t[a]));return r}},{key:"reserveCanPlay",value:function(){for(var e="",t=this.reservedCardList(),r=new RegExp("hover"),a=0;a<t.length;a++)r.test(t[a].props.className)&&(e=" active");return e}},{key:"render",value:function(){var e=" hidden";return this.props.currentTurn.openReserve&&(e=""),Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("img",{src:"/splendidbackground.jpg",className:"background",alt:""}),Object(y.jsx)(w,{players:this.props.game.players,turn:this.props.game.turn,openReservedCardPanel:this.props.openReservedCardPanel,closeReservedCardPanel:this.props.closeReservedCardPanel,loggedInPlayer:this.props.loggedInPlayer,side:"left",reserveCanPlay:this.reserveCanPlay()}),Object(y.jsx)(J,{game:this.props.game,currentTurn:this.props.currentTurn,selectToken:this.props.selectToken,selectCard:this.props.selectCard,loggedInPlayer:this.props.loggedInPlayer,renderCards:this.renderCards}),Object(y.jsx)(w,{players:this.props.game.players,reserveCanPlay:this.reserveCanPlay(),turn:this.props.game.turn,side:"right",loggedInPlayer:this.props.loggedInPlayer,openReservedCardPanel:this.props.openReservedCardPanel,closeReservedCardPanel:this.props.closeReservedCardPanel}),Object(y.jsx)("div",{className:"championOverlay"+e,id:"reservedCardContainer",children:Object(y.jsxs)("div",{className:"playTurn",children:[Object(y.jsx)("button",{className:"exit",onClick:this.props.closeReservedCardPanel,children:"X"}),this.reservedCardList()]})}),this.renderCanPlay(),this.holdTurn(),this.renderCanNoble(),this.endgame()]})}}]),r}(n.a.Component)),B=(r(169),{id:0,champion:{id:0,username:"jaecheese",created_at:"2021-10-15",updated_at:"2021-10-15"},turn:17,tokenPool:{ruby:5,emerald:2,sapphire:7,diamond:4,onyx:1,gold:5},nobles:[{id:1,score:3,cost:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0}},{id:2,score:3,cost:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0}},{id:3,score:3,cost:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0}},{id:4,score:3,cost:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0}},{id:5,score:3,cost:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0}}],players:[{id:0,turn:1,character_id:4,user:{id:0,username:"jaecheese",created_at:"2021-10-15",updated_at:"2021-10-15"},nobles:[{id:0,score:3,cost:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0}}],tokens:{ruby:0,emerald:0,sapphire:3,diamond:3,onyx:0},cards:[{id:0,score:0,deck_id:0,token:"ruby",cost:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0}}]},{id:0,turn:2,character_id:3,user:{id:0,username:"jaecheese",created_at:"2021-10-15",updated_at:"2021-10-15"},nobles:[{id:0,score:3,cost:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0}}],tokens:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0},cards:[{id:0,score:0,deck_id:0,token:"gold",cost:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0}},{id:0,score:0,deck_id:0,token:"onyx",cost:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0}},{id:0,score:0,deck_id:0,token:"ruby",cost:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0}},{id:0,score:0,deck_id:0,token:"sapphire",cost:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0}}]},{id:0,turn:3,character_id:1,user:{id:0,username:"jaecheese",created_at:"2021-10-15",updated_at:"2021-10-15"},nobles:[{id:0,score:3,cost:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0}}],tokens:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0},cards:[{id:0,score:0,deck_id:0,token:"ruby",cost:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0}},{id:0,score:0,deck_id:0,token:"ruby",cost:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0}},{id:0,score:0,deck_id:0,token:"ruby",cost:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0}},{id:0,score:0,deck_id:0,token:"ruby",cost:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0}}]},{id:0,turn:0,character_id:2,user:{id:0,username:"jaecheese",created_at:"2021-10-15",updated_at:"2021-10-15"},nobles:[{id:0,score:3,cost:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0}}],tokens:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0},cards:[{id:0,score:0,deck_id:0,token:"ruby",cost:{ruby:0,emerald:0,sapphire:0,diamond:0,onyx:0}}]}],decks:[{id:0,game_id:0,color:"green",cards:[{id:1,score:0,deck_id:0,token:"ruby",cost:{ruby:0,emerald:1,sapphire:1,diamond:1,onyx:1}},{id:9,score:0,deck_id:0,token:"ruby",cost:{ruby:0,emerald:1,sapphire:1,diamond:1,onyx:1}},{id:17,score:0,deck_id:0,token:"ruby",cost:{ruby:0,emerald:1,sapphire:1,diamond:1,onyx:1}},{id:25,score:0,deck_id:0,token:"diamond",cost:{ruby:4,emerald:0,sapphire:0,diamond:0,onyx:0}}]},{id:0,game_id:0,color:"yellow",cards:[{id:41,score:0,deck_id:0,token:"ruby",cost:{ruby:0,emerald:1,sapphire:1,diamond:1,onyx:1}},{id:46,score:0,deck_id:0,token:"ruby",cost:{ruby:0,emerald:1,sapphire:1,diamond:1,onyx:1}},{id:50,score:0,deck_id:0,token:"ruby",cost:{ruby:0,emerald:1,sapphire:1,diamond:1,onyx:1}},{id:58,score:0,deck_id:0,token:"diamond",cost:{ruby:4,emerald:0,sapphire:0,diamond:0,onyx:0}}]},{id:0,game_id:0,color:"blue",cards:[{id:71,score:0,deck_id:0,token:"ruby",cost:{ruby:0,emerald:1,sapphire:1,diamond:1,onyx:1}},{id:85,score:0,deck_id:0,token:"ruby",cost:{ruby:0,emerald:1,sapphire:1,diamond:1,onyx:1}},{id:90,score:0,deck_id:0,token:"ruby",cost:{ruby:0,emerald:1,sapphire:1,diamond:1,onyx:1}},{id:78,score:0,deck_id:0,token:"diamond",cost:{ruby:4,emerald:0,sapphire:0,diamond:0,onyx:0}}]}]}),U="http://localhost:8080",z=function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).state={loggedIn:!1,gameStatus:null,gameData:B,username:null,character:null,user_id:null,lastGotNoble:null,availableNobles:[],currentPlayer:[],currentTurn:{canPlay:!1,reserveCard:!1,openReserve:!1,player:B.players[B.turn%B.players.length],choice:null,tokensSelected:[],cardSelected:{id:null,tokenName:null}}},a.handleRegister=a.handleRegister.bind(Object(d.a)(a)),a.handleStartGame=a.handleStartGame.bind(Object(d.a)(a)),a.handleLogin=a.handleLogin.bind(Object(d.a)(a)),a.getGameUpdate=a.getGameUpdate.bind(Object(d.a)(a)),a.handleInitializeGame=a.handleInitializeGame.bind(Object(d.a)(a)),a.handleSelectCard=a.handleSelectCard.bind(Object(d.a)(a)),a.handleGetToken=a.handleGetToken.bind(Object(d.a)(a)),a.playTurn=a.playTurn.bind(Object(d.a)(a)),a.handleGetNoble=a.handleGetNoble.bind(Object(d.a)(a)),a.cancelPlay=a.cancelPlay.bind(Object(d.a)(a)),a.handlePlayClick=a.handlePlayClick.bind(Object(d.a)(a)),a.setNobleState=a.setNobleState.bind(Object(d.a)(a)),a.getReserveCard=a.getReserveCard.bind(Object(d.a)(a)),a.getGoldCoin=a.getGoldCoin.bind(Object(d.a)(a)),a.openReservedCardPanel=a.openReservedCardPanel.bind(Object(d.a)(a)),a.closeReservedCardPanel=a.closeReservedCardPanel.bind(Object(d.a)(a)),a}return Object(l.a)(r,[{key:"handleGetToken",value:function(e){var t=e.target.parentElement.classList[1];this.toggleSelectClass(e);var r=0;for(var a in this.state.currentTurn.player.tokenPool)console.log("key:",a),console.log("combined",this.state.currentTurn.player.tokenPool[a]),r+=parseInt(this.state.currentTurn.player.tokenPool[a]),console.log(r);console.log("number of tokens ",r);var n={onyx:1,sapphire:2,ruby:3,diamond:4,emerald:5,gold:6},s=this.state.currentTurn;if(s.cardSelected={id:null,tokenName:null},"gold"===t&&10!=r)return s.tokensSelected=[],s.tokensSelected.push(n[t]),s.canPlay=!0,void this.setState({currentTurn:s});if(0===s.tokensSelected.length&&10!=r)return s.tokensSelected.push(n[t]),s.canPlay=!1,void this.setState({currentTurn:s});if(6===s.tokensSelected[0]&&10!=r)return s.tokensSelected=[],s.tokensSelected.push(n[t]),s.canPlay=!1,void this.setState({currentTurn:s});if(1===s.tokensSelected.length){if(n[t]===s.tokensSelected[0])return this.state.gameData.tokenPool[t]>3&&r<9?(s.tokensSelected.push(n[t]),s.canPlay=!0,void this.setState({currentTurn:s})):(s.tokensSelected=[],s.canPlay=!1,void this.setState({currentTurn:s}));if(r<9)return s.tokensSelected.push(n[t]),s.canPlay=!1,void this.setState({currentTurn:s})}if(2===s.tokensSelected.length){if(s.tokensSelected[1]===s.tokensSelected[0])return n[t]===s.tokensSelected[0]?(s.tokensSelected=[],s.canPlay=!1,void this.setState({currentTurn:s})):void 0;if(n[t]===s.tokensSelected[0])return s.tokensSelected.shift(),s.canPlay=!1,void this.setState({currentTurn:s});if(n[t]===s.tokensSelected[1])return s.tokensSelected.pop(),s.canPlay=!1,void this.setState({currentTurn:s});if(r<8)return s.tokensSelected.push(n[t]),s.canPlay=!0,void this.setState({currentTurn:s})}if(3===s.tokensSelected.length)for(var i=0;i<3;i++)if(s.tokensSelected[i]===n[t])return s.tokensSelected.splice(i,1),s.canPlay=!1,void this.setState({currentTurn:s})}},{key:"handleSelectCard",value:function(e){this.toggleSelectClass(e),console.log("selected card",e.target.classList[1]);var t=this.state.currentTurn;this.state.currentTurn.reserveCard||(t.tokensSelected=[]),t.canPlay=!0,t.cardSelected.id===e.target.classList[1]?(t.canPlay=!1,t.cardSelected={id:null,tokenName:null}):t.cardSelected={id:e.target.classList[1],tokenName:e.target.classList[2]},this.setState({currentTurn:t})}},{key:"toggleSelectClass",value:function(e){e.target.classList.toggle("selectedc")}},{key:"handleRegister",value:function(){var e=this;console.log("click");var t=new XMLHttpRequest;t.open("POST",U+"/users/new",!0),t.setRequestHeader("Content-Type","application/json"),t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE&&200===t.status){console.log(e);var r=JSON.parse(t.response);e.setState({loggedIn:!0,username:r.username,user_id:r.id})}};var r={username:document.querySelector("#username").value,password:document.querySelector("#password").value,confirm:document.querySelector("#confirm").value,email:document.querySelector("#email").value};t.send(JSON.stringify(r))}},{key:"handleLogin",value:function(){var e=this;console.log("click");var t=new XMLHttpRequest;t.open("POST",U+"/login",!0),t.setRequestHeader("Content-Type","application/json"),t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE){var r=JSON.parse(t.response);200===t.status?(console.log(e),e.setState({loggedIn:!0,username:r.username,user_id:r.id})):(console.log(r),alert("Unrecognized User. Please try again. If problem persists email jase@perfectmypodcast.com"))}};var r={username:document.querySelector("#username").value,password:document.querySelector("#password").value};t.send(JSON.stringify(r))}},{key:"handleInitializeGame",value:function(){var e=this,t=new XMLHttpRequest;t.open("POST","http://localhost:8080/games/start",!0),t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE&&200===t.status){var r=JSON.parse(t.response);console.log("Game Started: ",r),e.setState({gameStatus:"active",gameData:r,currentTurn:{canPlay:!1,reserveCard:!1,openReserve:!1,player:r.players[r.turn%r.players.length],choice:null,tokensSelected:[],cardSelected:{id:null,tokenName:null}}})}},t.setRequestHeader("Content-Type","application/json");var r={game_id:this.state.gameData.id};t.send(JSON.stringify(r))}},{key:"handleStartGame",value:function(e){var t=this,r=new XMLHttpRequest,a=U+"/games/new?user_id="+this.state.user_id,n=document.getElementById("character_id").value;if("new_game"===document.getElementById("join_start").value)a+="&character_id="+n,r.open("GET",a,!0),r.setRequestHeader("Content-Type","application/json"),r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE&&200===r.status){console.log(JSON.parse(r.response));var e=JSON.parse(r.response);t.setState({gameStatus:"waiting",gameData:e})}},r.send();else{a=U+"/games/join";var s=document.getElementById("game_id").value;r.open("POST",a,!0),r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE&&200===r.status){var e=JSON.parse(r.response);console.log("Game Joined: ",e),t.setState({gameStatus:"waiting",gameData:e})}},r.setRequestHeader("Content-Type","application/json");var i={user_id:this.state.user_id,character_id:parseInt(n),game_id:parseInt(s)};r.send(JSON.stringify(i))}}},{key:"checkNobles",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log("EXTRA CARD IS: ",r);var a=e.players.filter((function(e){return e.user.id===t.state.user_id}));console.log("CURRENT PLAYER: ",a);var n=e.nobles,s=["diamond","ruby","sapphire","onyx","emerald"],i={diamond:0,ruby:0,sapphire:0,onyx:0,emerald:0};""!=r&&(this.state.currentTurn.cardSelected.id&&this.state.currentTurn.tokensSelected.length>0||(i[r]+=1));for(var o=0;o<a[0].cards.length;o++)"1"===a[0].ownedCards[o]&&(i[a[0].cards[o].tokenName]+=1);var l=[];for(o=0;o<n.length;o++){for(var d=!0,c=0;c<s.length;c++)console.log("Hand: ",i),console.log("tokenCost: ",n[o].tokenCost),n[o].tokenCost[s[c]]>i[s[c]]&&(d=!1);console.log(d),d&&l.push(n[o])}return l}},{key:"getGameUpdate",value:function(){var e=this,t=new XMLHttpRequest,r=U+"/games/"+this.state.gameData.id;t.open("POST",r,!0),t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE&&200===t.status){var r=JSON.parse(t.response);if(console.log("Game Update: ",r),r.decks.length>0){var a=e.state.currentTurn;a.player=r.players[r.turn%r.players.length],e.setState({gameStatus:"active",gameData:r,currentTurn:a})}else e.setState({gameData:r})}};var a={game_id:this.state.gameData.id};t.send(JSON.stringify(a))}},{key:"handlePlayClick",value:function(e){var t=this.checkNobles(this.state.gameData,this.state.currentTurn.cardSelected.tokenName);6===this.state.currentTurn.tokensSelected[0]&&!1===this.state.currentTurn.reserveCard?(console.log("CONSOLING LOG RESERVING CARD"),this.reserveCard()):t.length>0?this.setNobleState(t):this.playTurn()}},{key:"setNobleState",value:function(e){var t=this.state.currentTurn;t.canPlay=!1,this.setState({availableNobles:e,currentTurn:t})}},{key:"cancelPlay",value:function(){var e=this.state.currentTurn;e.canPlay=!1,this.setState({currentTurn:e})}},{key:"getGoldCoin",value:function(){var e=this,t=new XMLHttpRequest,r="/games/"+this.state.gameData.id+"/taketokens/"+this.state.currentTurn.player.id;t.open("POST",U+r,!0),t.setRequestHeader("Content-Type","application/json"),t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE){var r=JSON.parse(t.response);console.log("GOT GOLD COIN"),200===t.status?(e.setState({currentTurn:{canPlay:!1,reserveCard:!1,openReserve:!1,player:r.players[r.turn%r.players.length],choice:null,tokensSelected:[],cardSelected:{id:null,tokenName:null}},availableNobles:[]}),e.getGameUpdate()):(console.log(r),alert("Problem with Play! "))}};var a={tokens:this.state.currentTurn.tokensSelected};t.send(JSON.stringify(a))}},{key:"playTurn",value:function(){var e=this;if(6===this.state.currentTurn.tokensSelected[0]&&this.state.currentTurn.reserveCard)this.getReserveCard();else if(this.state.currentTurn.tokensSelected.length>0){var t=new XMLHttpRequest,r="/games/"+this.state.gameData.id+"/taketokens/"+this.state.currentTurn.player.id;t.open("POST",U+r,!0),t.setRequestHeader("Content-Type","application/json"),t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE){var r=JSON.parse(t.response);200===t.status?(e.setState({currentTurn:{canPlay:!1,reserveCard:!1,openReserve:!1,player:r.players[r.turn%r.players.length],choice:null,tokensSelected:[],cardSelected:{id:null,tokenName:null}},availableNobles:[]}),e.getGameUpdate()):(console.log(r),alert("Problem with Play! "))}};var a={tokens:this.state.currentTurn.tokensSelected};t.send(JSON.stringify(a))}else if(this.state.currentTurn.cardSelected.id){console.log("Taking Card");t=new XMLHttpRequest,r="/games/"+this.state.gameData.id+"/takecard/"+this.state.currentTurn.player.id;t.open("POST",U+r,!0),t.setRequestHeader("Content-Type","application/json"),t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE){var r=JSON.parse(t.response);200===t.status?(e.setState({currentTurn:{canPlay:!1,reserveCard:!1,openReserve:!1,player:r.players[r.turn%r.players.length],choice:null,tokensSelected:[],cardSelected:{id:null,tokenName:null}},availableNobles:[]}),e.getGameUpdate()):(console.log(r),alert("Problem with Play! "))}};a={card_id:parseInt(this.state.currentTurn.cardSelected.id)};t.send(JSON.stringify(a))}}},{key:"handleGetNoble",value:function(e){var t=this;console.log(e.target.classList[1]);var r=new XMLHttpRequest,a="/games/"+this.state.gameData.id+"/takenoble/"+this.state.currentTurn.player.id;r.open("POST",U+a,!0),r.setRequestHeader("Content-Type","application/json"),r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE){var e=JSON.parse(r.response);200===r.status?(console.log("success",e),t.setState({availableNobles:[]}),t.playTurn()):(console.log(e),alert("Problem with Nobles! "))}};var n={noble_id:parseInt(e.target.classList[1]),tokenName:this.state.currentTurn.cardSelected.tokenName};r.send(JSON.stringify(n))}},{key:"reserveCard",value:function(){var e=this.state.currentTurn;e.reserveCard=!0,e.canPlay=!1,this.setState({currentTurn:e})}},{key:"getReserveCard",value:function(){var e=this,t=new XMLHttpRequest,r="/games/"+this.state.gameData.id+"/reservecard/"+this.state.currentTurn.player.id;t.open("POST",U+r,!0),t.setRequestHeader("Content-Type","application/json"),t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE){var r=JSON.parse(t.response);if(200===t.status)return e.setState({currentTurn:{canPlay:!1,reserveCard:!1,openReserve:!1,player:r.players[r.turn%r.players.length],choice:null,tokensSelected:[],cardSelected:{id:null,tokenName:null}},availableNobles:[]}),e.getGameUpdate(),void console.log("RESPONSE AFTER RESERVE CARD",r);console.log(r),alert("Problem with Reserving Card!! ")}};var a={card_id:parseInt(this.state.currentTurn.cardSelected.id)};t.send(JSON.stringify(a))}},{key:"openReservedCardPanel",value:function(){console.log("click");var e=this.state.currentTurn;e.openReserve=!0,this.setState({currentTurn:e})}},{key:"closeReservedCardPanel",value:function(){console.log("click");var e=this.state.currentTurn;e.openReserve=!1,this.setState({currentTurn:e})}},{key:"renderApp",value:function(){var e=this;return"active"===this.state.gameStatus?Object(y.jsx)(X,{game:this.state.gameData,currentTurn:this.state.currentTurn,availableNobles:this.state.availableNobles,selectToken:this.handleGetToken,selectCard:this.handleSelectCard,playTurn:this.handlePlayClick,cancelPlay:this.cancelPlay,loggedInPlayer:this.state.gameData.players.filter((function(t){return t.user.id===e.state.user_id}))[0],getNoble:this.handleGetNoble,openReservedCardPanel:this.openReservedCardPanel,closeReservedCardPanel:this.closeReservedCardPanel}):Object(y.jsx)(x,{register:this.handleRegister,loggedIn:this.state.loggedIn,startgame:this.handleStartGame,gameStatus:this.state.gameStatus,gameData:this.state.gameData,login:this.handleLogin,initGame:this.handleInitializeGame,getUpdate:this.getGameUpdate})}},{key:"render",value:function(){return console.log("Current Turn STATE: ",this.state),Object(y.jsx)("div",{className:"App",children:this.renderApp()})}}]),r}(n.a.Component),A=z,F=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,171)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;r(e),a(e),n(e),s(e),i(e)}))};i.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(A,{})}),document.getElementById("root")),F()},36:function(e,t,r){},70:function(e,t,r){}},[[170,1,2]]]);
//# sourceMappingURL=main.c2c9a702.chunk.js.map